---
title: "Old Faithful Eruptions"                 # Título del dashboard

output: 
    flexdashboard::flex_dashboard:
      theme:                                     # Configuración del tema visual
        version: 4                               # Usa Bootstrap 4 (más moderno) Flexdashboard por defecto usa Bootstrap 3
        bootswatch: minty                        # Tema Minty de Bootswatch (verde suave)

runtime: shiny                                   # Activa interactividad con Shiny
---


```{r global, include=FALSE}
# Cargar datos en un chunk 'global' para que estén disponibles
# para todos los usuarios y todos los elementos reactivos
library(datasets)
data(faithful)                                   # Dataset con erupciones del géiser

```

Column {.sidebar}
-----------------------------------------------------------------------

Waiting time between eruptions and the duration of the eruption for the
Old Faithful geyser in Yellowstone National Park, Wyoming, USA.

```{r}
selectInput("n_breaks", label = "Number of bins:",   # Selector para nº de barras del histograma
            choices = c(10, 20, 35, 50), selected = 20)

sliderInput("bw_adjust", label = "Bandwidth adjustment:",  # Slider para suavizado de la densidad
            min = 0.2, max = 2, value = 1, step = 0.2)
```

Column
-----------------------------------------------------------------------

### Geyser Eruption Duration

```{r}
renderPlot({                                       # Gráfico reactivo
  hist(faithful$eruptions, probability = TRUE,     # Histograma de duración de erupciones
       breaks = as.numeric(input$n_breaks),        # Nº de barras según input del usuario
       xlab = "Duration (minutes)", 
       main = "Geyser Eruption Duration")
  
  dens <- density(faithful$eruptions,              # Curva de densidad
                  adjust = input$bw_adjust)        # Suavizado controlado por slider
  lines(dens, col = "blue")                        # Añadir línea de densidad al histograma
})

```